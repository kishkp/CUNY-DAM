subset(study_data, !is.na(TB_1990))
subset(study_data, !is.na(PM25_1990))
View(study_data)
study_data<-subset(study_data, !is.na(PM25_1990))
cor(study_data$TB_2013, study_data$PM25_2013)
study_data$TB_2013
study_data$PM25_2013
study_data<-full_join(TB_data, PM25_data, by = "Country Name")
study_data<-subset(study_data, !is.na(PM25_2013))
cor(study_data$TB_2013, study_data$PM25_2013)
cor(study_data$TB_2013-study_data$TB_1990, study_data$PM25_2013-study_data$PM25_1990)
study_data<-subset(study_data, !is.na(PM25_1990))
cor(study_data$TB_2013-study_data$TB_1990, study_data$PM25_2013-study_data$PM25_1990)
study_data<-subset(study_data, !is.na(TB_2013))
study_data<-subset(study_data, !is.na(TB_1990))
cor(study_data$TB_2013-study_data$TB_1990, study_data$PM25_2013-study_data$PM25_1990)
plot(study_data$TB_2013-study_data$TB_1990, study_data$PM25_2013-study_data$PM25_1990)
plot_ss(study_data$TB_2013-study_data$TB_1990, study_data$PM25_2013-study_data$PM25_1990)
plot_ss(study_data$TB_2013-study_data$TB_1990, study_data$PM25_2013-study_data$PM25_1990,showSquares = TRUE)
m1 <- lm(study_data$TB_2013-study_data$TB_1990 ~ study_data$PM25_2013-study_data$PM25_1990, data = study_data)
summary(m1)
TB_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Incidence%20of%20TB.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
TB_data<-TB_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
names(TB_data) <- c("Country Name", "TB_1990", "TB_1995", "TB_2000", "TB_2005", "TB_2010", "TB_2011", "TB_2013")
PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/PM25%20air%20pollution.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
PM25_data<-PM25_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
names(PM25_data) <- c("Country Name", "PM25_1990", "PM25_1995", "PM25_2000", "PM25_2005", "PM25_2010", "PM25_2011", "PM25_2013")
PM25_data
a<-head(TB_data)
a
gather(a, "Country Name", "year")
gather(a, "Year", "TB_Value")
gather(a, "Country Name", "TB_Value")
TB_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Incidence%20of%20TB.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
TB_data<-TB_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
a<-head(TB_data)
gather(a, "Country Name", "TB_Value")
names(a) <- c("Country", "Year", "TB")
a
b<-gather(a, "Country Name", "TB_Value")
names(b) <- c("Country", "Year", "TB")
b
TB_data<-TB_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
gather(a, "Country Name", "TB_Value")
a<-head(TB_data)
b<-gather(a, "Country Name", "TB_Value")
names(b) <- c("Country", "Year", "TB")
b
TB_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Incidence%20of%20TB.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
TB_data<-TB_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
#names(TB_data) <- c("Country Name", "TB_1990", "TB_1995", "TB_2000", "TB_2005", "TB_2010", "TB_2011", "TB_2013")
TB_data_long <- gather(TB_data, "Country Name", "TB_Value")
names(TB_data_long) <- c("Country", "Year", "TB")
TB_data_long
PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/PM25%20air%20pollution.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
PM25_data<-PM25_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
#names(PM25_data) <- c("Country Name", "PM25_1990", "PM25_1995", "PM25_2000", "PM25_2005", "PM25_2010", "PM25_2011", "PM25_2013")
PM25_data_long <- gather(PM25_data, "Country Name", "PM25_Value")
names(PM25_data_long) <- c("Country", "Year", "PM25")
View(TB_data_long)
study_data<-full_join(TB_data_long, PM25_data_long, by = c("Country", "Year"))
head(study_data)
plot(study_data$PM25, study_data$TB)
study_data<-subset(study_data, !is.na(PM25))
study_data<-subset(study_data, !is.na(TB))
study_data<-subset(study_data, !is.na(PM25))
study_data<-subset(study_data, !is.na(TB))
cor(study_data$PM25, vTB)
cor(study_data$PM25, study_data$TB)
hist(study_data$TB)
hist(study_data$PM25)
hist(log(study_data$PM25)
)
hist(log(study_data$TB)
)
hist(log(study_data$PM25))
cor(study_data$PM25, log(study_data$TB)
)
cor(log(study_data$PM25), log(study_data$TB))
cor(exp(study_data$PM25), exp(study_data$TB))
plot(study_data$PM25, log(study_data$TB)
)
plot(log(study_data$PM25), log(study_data$TB))
plot(study_data$TB_2013-study_data$TB_1990, study_data$PM25_2013-study_data$PM25_1990)
TB_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Incidence%20of%20TB.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
TB_data<-TB_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
names(TB_data) <- c("Country Name", "TB_1990", "TB_1995", "TB_2000", "TB_2005", "TB_2010", "TB_2011", "TB_2013")
TB_data_long <- gather(TB_data, "Country Name", "TB_Value")
names(TB_data_long) <- c("Country", "Year", "TB")
PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/PM25%20air%20pollution.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
PM25_data<-PM25_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
names(PM25_data) <- c("Country Name", "PM25_1990", "PM25_1995", "PM25_2000", "PM25_2005", "PM25_2010", "PM25_2011", "PM25_2013")
PM25_data_long <- gather(PM25_data, "Country Name", "PM25_Value")
names(PM25_data_long) <- c("Country", "Year", "PM25")
library(dplyr)
library(ggplot2)
study_data<-full_join(TB_data_long, PM25_data_long, by = "Country")
# Remove all rows where there are NAs
study_data<-subset(study_data, !is.na(PM25_2013))
study_data<-subset(study_data, !is.na(PM25_1990))
study_data<-subset(study_data, !is.na(TB_2013))
study_data<-subset(study_data, !is.na(TB_1990))
study_data_long<-full_join(TB_data_long, PM25_data_long, by = c("Country", "Year"))
# Remove all rows where there are NAs
study_data_long<-subset(study_data_long, !is.na(PM25))
study_data_long<-subset(study_data_long, !is.na(TB))
plot(study_data$TB_2013-study_data$TB_1990, study_data$PM25_2013-study_data$PM25_1990)
(study_data$TB_2013-study_data$TB_1990, study_data$PM25_2013-study_data$PM25_1990)
TB_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Incidence%20of%20TB.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
TB_data<-TB_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
names(TB_data) <- c("Country Name", "TB_1990", "TB_1995", "TB_2000", "TB_2005", "TB_2010", "TB_2011", "TB_2013")
TB_data_long <- gather(TB_data, "Country Name", "TB_Value")
names(TB_data_long) <- c("Country", "Year", "TB")
PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/PM25%20air%20pollution.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
PM25_data<-PM25_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
names(PM25_data) <- c("Country Name", "PM25_1990", "PM25_1995", "PM25_2000", "PM25_2005", "PM25_2010", "PM25_2011", "PM25_2013")
PM25_data_long <- gather(PM25_data, "Country Name", "PM25_Value")
names(PM25_data_long) <- c("Country", "Year", "PM25")
study_data<-full_join(TB_data, PM25_data, by = "Country")
study_data<-subset(study_data, !is.na(PM25_2013))
study_data<-subset(study_data, !is.na(PM25_1990))
study_data<-subset(study_data, !is.na(TB_2013))
study_data<-subset(study_data, !is.na(TB_1990))
study_data_long<-full_join(TB_data_long, PM25_data_long, by = c("Country", "Year"))
# Remove all rows where there are NAs
study_data_long<-subset(study_data_long, !is.na(PM25))
study_data_long<-subset(study_data_long, !is.na(TB))
study_data<-full_join(TB_data, PM25_data, by = "Country")
study_data<-full_join(TB_data, PM25_data, by = "Country Name")
study_data<-subset(study_data, !is.na(PM25_2013))
study_data<-subset(study_data, !is.na(PM25_1990))
study_data<-subset(study_data, !is.na(TB_2013))
study_data<-subset(study_data, !is.na(TB_1990))
study_data_long<-full_join(TB_data_long, PM25_data_long, by = c("Country", "Year"))
study_data_long<-subset(study_data_long, !is.na(PM25))
study_data_long<-subset(study_data_long, !is.na(TB))
plot(study_data$TB_2013-study_data$TB_1990, study_data$PM25_2013-study_data$PM25_1990)
plot(log(study_data$TB_2013-study_data$TB_1990), study_data$PM25_2013-study_data$PM25_1990)
plot(study_data$PM25_2013-study_data$PM25_1990, log(study_data$TB_2013-study_data$TB_1990))
ggplot(study_data$PM25_2013-study_data$PM25_1990, log(study_data$TB_2013-study_data$TB_1990))
ggplot(data=study_data, aes(x=study_data$PM25_2013-study_data$PM25_1990, y=(study_data$TB_2013-study_data$TB_1990))) + geom_point()
m3 <- lm((study_data$TB_2013-study_data$TB_1990)  ~ study_data$PM25_2013-study_data$PM25_1990, data = study_data)
summary(m3)
ggplot(data=study_data, aes(x=study_data$PM25_2013-study_data$PM25_1990, y=log(study_data$TB_2013-study_data$TB_1990))) + geom_point()
m3 <- lm(log(study_data$TB_2013-study_data$TB_1990)  ~ study_data$PM25_2013-study_data$PM25_1990, data = study_data)
summary(m3)
plot(log(study_data$TB_2013-study_data$TB_1990)  ~ study_data$PM25_2013-study_data$PM25_1990,
)
plot(log(study_data$TB_2013-study_data$TB_1990)  ~ study_data$PM25_2013-study_data$PM25_1990)
plot(log(study_data$TB_2013-study_data$TB_1990)  ~ (study_data$PM25_2013-study_data$PM25_1990))
plot(study_data_long$PM25, study_data_long$TB)
plot(study_data_long$PM25, study_data_long$TB)
plot(study_data_long$PM25, study_data_long$TB)
plot(log(study_data$TB_2013-study_data$TB_1990)  ~ (study_data$PM25_2013-study_data$PM25_1990))
hist(study_data_long$TB)
study_data_long$TB
study_data_long<-full_join(TB_data_long, PM25_data_long, by = c("Country", "Year"))
study_data_long<-subset(study_data_long, !is.na(PM25))
study_data_long<-subset(study_data_long, !is.na(TB))
hist(study_data_long$TB)
study_data_long<-full_join(TB_data_long, PM25_data_long, by = c("Country", "Year"))
head(study_data_long)
View(study_data_long)
View(study_data_long)
TB_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Incidence%20of%20TB.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
TB_data<-TB_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
names(TB_data) <- c("Country Name", "TB_1990", "TB_1995", "TB_2000", "TB_2005", "TB_2010", "TB_2011", "TB_2013")
TB_data_long <- gather(TB_data, "Country Name", "TB_Value")
names(TB_data_long) <- c("Country", "Year", "TB")
PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/PM25%20air%20pollution.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
PM25_data<-PM25_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
names(PM25_data) <- c("Country Name", "PM25_1990", "PM25_1995", "PM25_2000", "PM25_2005", "PM25_2010", "PM25_2011", "PM25_2013")
PM25_data_long <- gather(PM25_data, "Country Name", "PM25_Value")
names(PM25_data_long) <- c("Country", "Year", "PM25")
study_data<-full_join(TB_data, PM25_data, by = "Country Name")
# Remove all rows where there are NAs
study_data<-subset(study_data, !is.na(PM25_2013))
study_data<-subset(study_data, !is.na(PM25_1990))
study_data<-subset(study_data, !is.na(TB_2013))
study_data<-subset(study_data, !is.na(TB_1990))
View(study_data_long)
View(study_data_long)
PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/PM25%20air%20pollution.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
View(PM25_data)
View(PM25_data)
PM25_data<-PM25_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
names(PM25_data) <- c("Country Name", "PM25_1990", "PM25_1995", "PM25_2000", "PM25_2005", "PM25_2010", "PM25_2011", "PM25_2013")
TB_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Incidence%20of%20TB.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
TB_data<-TB_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
names(TB_data) <- c("Country Name", "TB_1990", "TB_1995", "TB_2000", "TB_2005", "TB_2010", "TB_2011", "TB_2013")
TB_data_long <- gather(TB_data, "Country Name", "TB_Value")
names(TB_data_long) <- c("Country", "Year", "TB")
PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/PM25%20air%20pollution.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
PM25_data<-PM25_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
names(PM25_data) <- c("Country Name", "PM25_1990", "PM25_1995", "PM25_2000", "PM25_2005", "PM25_2010", "PM25_2011", "PM25_2013")
PM25_data_long <- gather(PM25_data, "Country Name", "PM25_Value")
View(PM25_data_long)
View(PM25_data_long)
names(PM25_data_long) <- c("Country", "Year", "PM25")
View(PM25_data_long)
View(PM25_data_long)
study_data<-full_join(TB_data, PM25_data, by = "Country Name")
study_data<-subset(study_data, !is.na(PM25_2013))
study_data<-subset(study_data, !is.na(PM25_1990))
study_data<-subset(study_data, !is.na(TB_2013))
study_data<-subset(study_data, !is.na(TB_1990))
View(study_data)
View(study_data)
study_data_long<-full_join(TB_data_long, PM25_data_long, by = c("Country", "Year"))
View(TB_data_long)
View(TB_data_long)
View(TB_data_long)
View(TB_data_long)
View(PM25_data_long)
View(PM25_data_long)
study_data_long<-full_join(TB_data_long, PM25_data_long, by = c("Country", "Year"))
View(study_data_long)
View(study_data_long)
View(study_data_long)
View(study_data_long)
View(PM25_data_long)
View(PM25_data_long)
TB_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Incidence%20of%20TB.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
TB_data<-TB_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
TB_data_long <- gather(TB_data, "Country Name", "TB_Value")
names(TB_data) <- c("Country Name", "TB_1990", "TB_1995", "TB_2000", "TB_2005", "TB_2010", "TB_2011", "TB_2013")
names(TB_data_long) <- c("Country", "Year", "TB")
View(TB_data_long)
View(TB_data_long)
PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/PM25%20air%20pollution.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
PM25_data<-PM25_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
PM25_data_long <- gather(PM25_data, "Country Name", "PM25_Value")
names(PM25_data) <- c("Country Name", "PM25_1990", "PM25_1995", "PM25_2000", "PM25_2005", "PM25_2010", "PM25_2011", "PM25_2013")
names(PM25_data_long) <- c("Country", "Year", "PM25")
View(PM25_data_long)
View(PM25_data_long)
study_data<-full_join(TB_data, PM25_data, by = "Country Name")
# Remove all rows where there are NAs
study_data<-subset(study_data, !is.na(PM25_2013))
study_data<-subset(study_data, !is.na(PM25_1990))
study_data<-subset(study_data, !is.na(TB_2013))
study_data<-subset(study_data, !is.na(TB_1990))
study_data_long<-full_join(TB_data_long, PM25_data_long, by = c("Country", "Year"))
View(study_data_long)
View(study_data_long)
study_data_long<-subset(study_data_long, !is.na(PM25))
study_data_long<-subset(study_data_long, !is.na(TB))
ggplot(data=study_data, aes(x=study_data$PM25_2013-study_data$PM25_1990, y=log(study_data$TB_2013-study_data$TB_1990))) + geom_point()
m3 <- lm(log(study_data$TB_2013-study_data$TB_1990)  ~ study_data$PM25_2013-study_data$PM25_1990, data = study_data)
summary(m3)
plot(log(study_data$TB_2013-study_data$TB_1990)  ~ (study_data$PM25_2013-study_data$PM25_1990))
hist(study_data_long$TB)
hist(study_data_long$PM25)
plot(x = study_data_long$PM25, y=study_data_long$TB)
plot(x = study_data_long$PM25, y=log(study_data_long$TB))
abline(lm(x = study_data_long$PM25, y=log(study_data_long$TB) ))
abline(lm(log(study_data_long$TB) ~ study_data_long$PM25))
plot(x = study_data_long$PM25, y=(study_data_long$TB))
abline(lm((study_data_long$TB) ~ study_data_long$PM25))
cor(x = study_data_long$PM25, y=(study_data_long$TB))
samp<-study_data_long[sample(nrow(study_data_long), 300), ]
cor(x = samp$PM25, y=(samp$TB))
plot(x = samp$PM25, y=(samp$TB))
samp<-study_data_long[sample(nrow(study_data_long), 300), ]
plot(x = samp$PM25, y=(samp$TB))
View(study_data_long)
View(study_data_long)
summary(samp$PM25)
View(samp)
View(samp)
Pop_above_PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/PM25%20air%20pollution.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
Pop_above_PM25_data<-Pop_above_PM25_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
Pop_above_PM25_data_long <- gather(Pop_above_PM25_data, "Country Name", "Pop_above_PM25_Value")
names(Pop_above_PM25_data_long) <- c("Country", "Year", "PM25")
library(dplyr)
library(ggplot2)
TB_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Incidence%20of%20TB.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
TB_data<-TB_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
TB_data_long <- gather(TB_data, "Country Name", "TB_Value")
#names(TB_data) <- c("Country Name", "TB_1990", "TB_1995", "TB_2000", "TB_2005", "TB_2010", "TB_2011", "TB_2013")
names(TB_data_long) <- c("Country", "Year", "TB")
Pop_above_PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/PM25%20air%20pollution.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
Pop_above_PM25_data<-Pop_above_PM25_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
Pop_above_PM25_data_long <- gather(Pop_above_PM25_data, "Country Name", "Pop_above_PM25_Value")
#names(Pop_above_PM25_data) <- c("Country Name", "PM25_1990", "PM25_1995", "PM25_2000", "PM25_2005", "PM25_2010", "PM25_2011", "PM25_2013")
names(Pop_above_PM25_data_long) <- c("Country", "Year", "PM25")
library(dplyr)
library(ggplot2)
study_data_long<-full_join(TB_data_long, Pop_above_PM25_data_long, by = c("Country", "Year"))
study_data_long<-subset(study_data_long, !is.na(PM25))
study_data_long<-subset(study_data_long, !is.na(TB))
ggplot(data=study_data, aes(x=study_data$PM25_2013-study_data$PM25_1990, y=log(study_data$TB_2013-study_data$TB_1990))) + geom_point()
TB_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Incidence%20of%20TB.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
TB_data<-TB_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
TB_data_long <- gather(TB_data, "Country Name", "TB_Value")
names(TB_data_long) <- c("Country", "Year", "TB")
Pop_above_PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/PM25%20air%20pollution.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
Pop_above_PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Population%20above%20PM25.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
Actual_PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/AAP_PM_database_May2014.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
Pop_above_PM25_data<-Pop_above_PM25_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
Pop_above_PM25_data_long <- gather(Pop_above_PM25_data, "Country Name", "Pop_above_PM25_Value")
Pop_above_PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Population%20above%20PM25.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
Pop_above_PM25_data<-Pop_above_PM25_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
Pop_above_PM25_data_long <- gather(Pop_above_PM25_data, "Country Name", "Pop_above_PM25_Value")
names(Pop_above_PM25_data_long) <- c("Country", "Year", "Pop_Above_PM25")
Actual_PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/AAP_PM_database_May2014.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
library(dplyr)
library(ggplot2)
study_data_long<-full_join(TB_data_long, Pop_above_PM25_data_long, by = c("Country", "Year"))
study_data<-full_join(sstudy_data, Actual_PM25_data, by = c("Country", "Year"))
study_data<-full_join(TB_data_long, Pop_above_PM25_data_long, by = c("Country", "Year"))
View(study_data)
View(study_data)
study_data<-full_join(sstudy_data, Actual_PM25_data, by = c("Country", "Year"))
study_data<-full_join(study_data, Actual_PM25_data, by = c("Country", "Year"))
View(Actual_PM25_data)
View(Actual_PM25_data)
View(study_data)
View(study_data)
study_data$Year<- as.numeric(study_data$Year)
View(study_data)
View(study_data)
study_data<-full_join(study_data, Actual_PM25_data, by = c("Country", "Year"))
View(study_data)
View(study_data)
View(study_data)
View(study_data)
subset(study_data, !is.na(TB))
Pop_above_PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Population%20above%20PM25.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
Pop_above_PM25_data<-Pop_above_PM25_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
Pop_above_PM25_data_long <- gather(Pop_above_PM25_data, "Country Name", "Pop_above_PM25_Value")
names(Pop_above_PM25_data_long) <- c("Country", "Year", "Pop_Above_PM25")
Actual_PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/AAP_PM_database_May2014.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
names(Actual_PM25_data) <- c("Country", "Year", "Actual_PM25")
study_data<-full_join(TB_data_long, Pop_above_PM25_data_long, by = c("Country", "Year"))
study_data$Year<- as.numeric(study_data$Year)
study_data<-full_join(study_data, Actual_PM25_data, by = c("Country", "Year"))
study_data<-subset(study_data, !is.na(TB))
study_data<-subset(study_data, !is.na(Pop_Above_PM25))
study_data<-subset(study_data, !is.na(study_data$Actual_PM25))
View(Actual_PM25_data)
View(Actual_PM25_data)
study_data<-full_join(TB_data_long, Pop_above_PM25_data_long, by = c("Country", "Year"))
study_data$Year<- as.numeric(study_data$Year)
study_data<-full_join(study_data, Actual_PM25_data, by = c("Country", "Year"))
View(study_data)
View(study_data)
Actual_PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/AAP_PM_database_May2014.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
View(Actual_PM25_data)
View(Actual_PM25_data)
names(Actual_PM25_data) <- c("Country", "Actual_PM25", "Year")
TB_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Incidence%20of%20TB.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
TB_data<-TB_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
TB_data_long <- gather(TB_data, "Country Name", "TB_Value")
names(TB_data_long) <- c("Country", "Year", "TB")
Pop_above_PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Population%20above%20PM25.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
Pop_above_PM25_data<-Pop_above_PM25_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
Pop_above_PM25_data_long <- gather(Pop_above_PM25_data, "Country Name", "Pop_above_PM25_Value")
names(Pop_above_PM25_data_long) <- c("Country", "Year", "Pop_Above_PM25")
Actual_PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/AAP_PM_database_May2014.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
names(Actual_PM25_data) <- c("Country", "Actual_PM25", "Year")
study_data<-full_join(TB_data_long, Pop_above_PM25_data_long, by = c("Country", "Year"))
study_data$Year<- as.numeric(study_data$Year)
study_data<-full_join(study_data, Actual_PM25_data, by = c("Country", "Year"))
study_data<-subset(study_data, !is.na(TB))
study_data<-subset(study_data, !is.na(Pop_Above_PM25))
study_data<-subset(study_data, !is.na(study_data$Actual_PM25))
plot(study_data$Pop_Above_PM25, study_data$TB)
plot(study_data$Actual_PM25, study_data$TB)
View(Actual_PM25_data)
View(Actual_PM25_data)
View(TB_data)
View(TB_data)
View(study_data)
View(study_data)
ggplot(data=study_data, aes(x=study_data$Pop_Above_PM25, y=study_data$TB) + geom_point()
ggplot(data=study_data, aes(x=study_data$Pop_Above_PM25, y=study_data$TB)) + geom_point()
ggplot(data=study_data, aes(x=study_data$Pop_Above_PM25, y=study_data$TB)) + geom_point()
ggplot(data=study_data, aes(x=study_data$Actual_PM25, y=study_data$TB)) + geom_point()
m3 <- lm(study_data$TB  ~ study_data$Pop_Above_PM25, data = study_data)
summary(m3)
ggplot(data=study_data, aes(x=study_data$Actual_PM25, y=study_data$TB)) + geom_point()
m3 <- lm(study_data$TB  ~ study_data$Actual_PM25, data = study_data)
summary(m3)
plot(study_data$TB ~ study_data$Actual_PM25)
abline(m3)
cor(study_data$TB,study_data$Actual_PM25)
summary(study_data)
View(Actual_PM25_data)
View(Actual_PM25_data)
TB_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Incidence%20of%20TB.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
TB_data<-TB_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
TB_data_long <- gather(TB_data, "Country Name", "TB_Value")
names(TB_data_long) <- c("Country", "Year", "TB")
TB_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Incidence%20of%20TB.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
TB_data<-TB_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
TB_data_long <- gather(TB_data, "Country Name", "TB_Value")
names(TB_data_long) <- c("Country", "Year", "TB")
Pop_above_PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Population%20above%20PM25.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
Pop_above_PM25_data<-Pop_above_PM25_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
Pop_above_PM25_data_long <- gather(Pop_above_PM25_data, "Country Name", "Pop_above_PM25_Value")
names(Pop_above_PM25_data_long) <- c("Country", "Year", "Pop_Above_PM25")
Actual_PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/AAP_PM_database_May2014.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
names(Actual_PM25_data) <- c("Country", "Actual_PM25", "Year")
data_Pop_prop_PM25 <- full_join(TB_data_long, Pop_above_PM25_data_long, by = c("Country", "Year"))
study_data$Year<- as.numeric(study_data$Year)
data_Actual_PM25 <- full_join(TB_data_long, Actual_PM25_data, by = c("Country", "Year"))
# Remove all rows where there are NAs
data_Pop_prop_PM25<-subset(data_Pop_prop_PM25, !is.na(TB))
data_Pop_prop_PM25<-subset(data_Pop_prop_PM25, !is.na(Pop_Above_PM25))
data_Actual_PM25<-subset(data_Actual_PM25, !is.na(TB))
data_Actual_PM25<-subset(data_Actual_PM25, !is.na(Actual_PM25))
TB_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Incidence%20of%20TB.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
TB_data<-TB_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
TB_data <- gather(TB_data, "Country Name", "TB_Value")
names(TB_data) <- c("Country", "Year", "TB")
Pop_above_PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Population%20above%20PM25.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
Pop_above_PM25_data<-Pop_above_PM25_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
Pop_above_PM25_data_long <- gather(Pop_above_PM25_data, "Country Name", "Pop_above_PM25_Value")
names(Pop_above_PM25_data_long) <- c("Country", "Year", "Pop_Above_PM25")
Actual_PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/AAP_PM_database_May2014.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
names(Actual_PM25_data) <- c("Country", "Actual_PM25", "Year")
TB_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Incidence%20of%20TB.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
TB_data<-TB_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
TB_data <- gather(TB_data, "Country Name", "TB_Value")
names(TB_data) <- c("Country", "Year", "TB")
Pop_above_PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/Population%20above%20PM25.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
Pop_above_PM25_data<-Pop_above_PM25_data[,c("Country Name", "1990", "1995", "2000", "2005", "2010", "2011", "2013")]
Pop_above_PM25_data <- gather(Pop_above_PM25_data, "Country Name", "Pop_above_PM25_Value")
names(Pop_above_PM25_data) <- c("Country", "Year", "Pop_Above_PM25")
Actual_PM25_data <-read.csv("https://raw.githubusercontent.com/kishkp/CUNY-StatsAndProb/master/DataProject/AAP_PM_database_May2014.csv", stringsAsFactors = FALSE, check.names = FALSE, na.strings = c("", "NA"), header = TRUE)
names(Actual_PM25_data) <- c("Country", "Actual_PM25", "Year")
data_Pop_prop_PM25 <- full_join(TB_data, Pop_above_PM25_data, by = c("Country", "Year"))
data_Actual_PM25 <- full_join(TB_data, Actual_PM25_data, by = c("Country", "Year"))
TB_data$Year<- as.numeric(TB_data$Year)
data_Actual_PM25 <- full_join(TB_data, Actual_PM25_data, by = c("Country", "Year"))
data_Pop_prop_PM25<-subset(data_Pop_prop_PM25, !is.na(TB))
data_Pop_prop_PM25<-subset(data_Pop_prop_PM25, !is.na(Pop_Above_PM25))
data_Actual_PM25<-subset(data_Actual_PM25, !is.na(TB))
data_Actual_PM25<-subset(data_Actual_PM25, !is.na(Actual_PM25))
summary(data_Pop_prop_PM25)
summary(data_Actual_PM25)
hist(data_Pop_prop_PM25$TB)
hist(data_Pop_prop_PM25$Pop_Above_PM25)
hist(data_Pop_prop_PM25$TB,xlim=c(2,500))
hist(data_Pop_prop_PM25$Pop_Above_PM25, xlim(1,90))
hist(data_Pop_prop_PM25$Pop_Above_PM25, xlim=c(1,90))
hist(data_Pop_prop_PM25$Pop_Above_PM25, xlim=c(20,80))
hist(data_Pop_prop_PM25$Pop_Above_PM25, ylim=c(20,90))
hist(data_Pop_prop_PM25$TB)
hist(data_Pop_prop_PM25$Pop_Above_PM25)
hist(data_Actual_PM25$TB)
hist(data_Actual_PM25$Actual_PM25)
ggplot(data=data_Pop_prop_PM25, aes(x=Pop_Above_PM25, y=TB)) + geom_point()
ggplot(data=data_Actual_PM25, aes(x=Actual_PM25, y=TB)) + geom_point()
cor(x = data_Pop_prop_PM25$Pop_Above_PM25, y=data_Pop_prop_PM25$TB)
cor(x = data_Actual_PM25$Actual_PM25, y=data_Actual_PM25$TB)
ggplot(data=data_Actual_PM25, aes(x=Actual_PM25, y=TB)) + geom_point() +   geom_smooth(method = "lm", se=FALSE, color="black", aes(group=1))
ggplot(data=data_Actual_PM25, aes(x=Actual_PM25, y=TB)) + geom_point() +   geom_smooth(method = "lm", color="blue", aes(group=1))
load("D:/CUNY/Courses/Statistics And Probability/CUNY-StatsAndProb/lab7/more/mlb11.RData")
m1 <- lm(TB ~ Actual_PM25, data = data_Actual_PM25)
summary(m1)
summary(m1)
m1[1]
m1[1,1]
m1[1][1]
m1[1][1]
m1[1][2]
m1[1,1]
m1[1]
class(m1[1])
m1[1]
m1[1][1]
m1[1][1,1]
m1
m1
m1$coefficients
m1$coefficients[1]
summary(m1)
m1$coefficients[1]
m1$coefficients[2]
m1$residuals
m1$df.residual
m1[1]
m1[2]
m1[3]
m1[4]
m1[5]
m1[6]
m1[7]
m1[8]
m1[9]
m1[10]
m1[11]
m1[12]
m1 <- lm(TB ~ Actual_PM25, data = data_Actual_PM25)
summary(m1)
View(Actual_PM25_data)
View(Actual_PM25_data)
View(data_Actual_PM25)
View(data_Actual_PM25)
hist(m1$residuals)
qqnorm(m1$residuals)
qqline(m1$residuals)  # adds diagonal line to the normal prob plot
hist(m1$residuals)
plot(m1$residuals ~ mlb11$at_bats)
abline(h = 0, lty = 3)  # adds a horizontal dashed line at y = 0
plot(m1$residuals ~ data_Actual_PM25$Actual_PM25)
abline(h = 0, lty = 3)  # adds a horizontal dashed line at y = 0
View(data_Actual_PM25)
View(data_Actual_PM25)
summary(m1)
